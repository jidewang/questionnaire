"use strict";(self.webpackChunkquestionnaire=self.webpackChunkquestionnaire||[]).push([[572],{1045:(e,t,l)=>{l.d(t,{jJ:()=>_,T3:()=>D});var s=l(8514);const n={title:"输入标题",placeholder:"请输入..."};var i=l(6761),r=l(579);var a=l(4e3),o=l(5679),c=l(5043);const d={title:"输入框",type:"QuestionInput",PropComponent:e=>{const{title:t,placeholder:l,onchange:s,disabled:n}=e,[i]=a.A.useForm();return(0,c.useEffect)((()=>{i.setFieldsValue({title:t,placeholder:l})}),[t,l]),(0,r.jsxs)(a.A,{form:i,layout:"vertical",initialValues:{title:t,placeholder:l},onValuesChange:function(){s&&s(i.getFieldsValue())},disabled:n,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"placeholder",name:"placeholder",children:(0,r.jsx)(o.A,{})})]})},Component:e=>{const{title:t="",placeholder:l=""}={...n,...e};return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{strong:!0,children:t}),(0,r.jsx)("div",{children:(0,r.jsx)(i.A,{placeholder:l})})]})},defaultProps:n};var u=l(4282);const h={text:"标题",lever:1,isCenter:!1};var x=l(3428),m=l(2513);const p={title:"标题",type:"QuestionTitle",PropComponent:e=>{const{text:t,level:l,isCenter:s,onchange:n,disabled:i}=e,[d]=a.A.useForm();return(0,c.useEffect)((()=>{d.setFieldsValue({text:t,level:l,isCenter:s})}),[t,l,s]),(0,r.jsxs)(a.A,{layout:"vertical",initialValues:{text:t,level:l,isCenter:s},form:d,onValuesChange:function(){n&&n(d.getFieldsValue())},disabled:i,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"text",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"层级",name:"level",children:(0,r.jsx)(x.A,{options:[{value:1,text:1},{value:2,text:2},{value:3,text:3}]})}),(0,r.jsx)(a.A.Item,{name:"isCenter",valuePropName:"checked",children:(0,r.jsx)(m.A,{children:"居中"})})]})},Component:e=>{const{text:t="",level:l=1,isCenter:s=!1}={...h,...e};return(0,r.jsx)(u.A,{level:l,style:{textAlign:s?"center":"start",marginBottom:0,fontSize:(e=>{switch(e){case 1:return"24px";case 2:return"20px";case 3:default:return"16px";case 4:return"14px";case 5:return"12px"}})(l)},children:t})},defaultProps:h},j={text:"段落内容",isCenter:!1};var A=l(798);const v={title:"段落",type:"QuestionParagraph",PropComponent:e=>{const{text:t,isCenter:l,onchange:s,disabled:n}=e,[i]=a.A.useForm();return(0,c.useEffect)((()=>{i.setFieldsValue({text:t,isCenter:l})}),[t,l]),(0,r.jsxs)(a.A,{layout:"vertical",initialValues:{text:t,isCenter:l},form:i,onValuesChange:function(){s&&s(i.getFieldsValue())},disabled:n,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"text",rules:[{required:!0,message:"请输入内容"}],children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(a.A.Item,{name:"isCenter",valuePropName:"checked",children:(0,r.jsx)(m.A,{children:"居中"})})]})},Component:e=>{const{text:t="",isCenter:l=!1}={...j,...e},n=t.split("\n");return(0,r.jsx)(s.A,{style:{textAlign:l?"center":"start",marginBottom:0},children:n.map(((e,t)=>(0,r.jsxs)("span",{children:[t>0&&(0,r.jsx)("br",{}),e]},t)))})},defaultProps:j},f={title:"问卷标题",desc:"问卷描述"},g={title:"问卷标题",desc:"问卷描述",type:"QuestionInfo",PropComponent:e=>{const{title:t,desc:l,onchange:s,disabled:n}=e,[i]=a.A.useForm();return(0,c.useEffect)((()=>{i.setFieldsValue({title:t,desc:l})}),[t,l]),(0,r.jsxs)(a.A,{form:i,layout:"vertical",initialValues:{title:t,desc:l},onValuesChange:function(){s&&s(i.getFieldsValue())},disabled:n,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"描述",name:"desc",children:(0,r.jsx)(A.A,{})})]})},Component:e=>{const{title:t,desc:l=""}={...f,...e},n=l.split("\n");return(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)(u.A,{style:{fontSize:"24px"},children:t}),(0,r.jsx)(s.A,{children:n.map(((e,t)=>(0,r.jsxs)("span",{children:[t>0&&(0,r.jsx)("br",{}),e]},t)))})]})},defaultProps:f},C={title:"输入标题",placeholder:"请输入..."},b={title:"输入框",type:"QuestionTextarea",PropComponent:e=>{const{title:t,placeholder:l,onchange:s,disabled:n}=e,[i]=a.A.useForm();return(0,c.useEffect)((()=>{i.setFieldsValue({title:t,placeholder:l})}),[t,l]),(0,r.jsxs)(a.A,{form:i,layout:"vertical",initialValues:{title:t,placeholder:l},onValuesChange:function(){s&&s(i.getFieldsValue())},disabled:n,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"placeholder",name:"placeholder",children:(0,r.jsx)(A.A,{})})]})},Component:e=>{const{title:t="",placeholder:l=""}={...C,...e};return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{strong:!0,children:t}),(0,r.jsx)("div",{children:(0,r.jsx)(A.A,{placeholder:l})})]})},defaultProps:C},V={title:"单选标题",options:[{value:"item1",text:"选项1"},{value:"item2",text:"选项2"},{value:"item3",text:"选项3"}],isVertical:!1,value:""};var y=l(6603),I=l(6051);var k=l(108),F=l(163),P=l(4240),E=l(7869),w=l(6150);var q=l(7021),N=l(8655),Q=l(5337);const L={title:"单选",desc:"问卷描述",type:"QuestionRadio",PropComponent:e=>{const{title:t,options:l=[],isVertical:s,value:n,onchange:i,disabled:d}=e,[u]=a.A.useForm();return(0,c.useEffect)((()=>{u.setFieldsValue({title:t,options:l,isVertical:s,value:n})}),[t,l,s,n]),(0,r.jsxs)(a.A,{form:u,layout:"vertical",initialValues:{title:t,options:l,isVertical:s,value:n},onValuesChange:function(){if(null==i)return;const e=u.getFieldsValue();e.options&&(e.options=e.options.filter((e=>!(null==e.text))));const{options:t=[]}=e;t.forEach((e=>{e.value||(e.value=Math.random().toString(16).slice(-4))})),i(e)},disabled:d,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"选项",children:(0,r.jsx)(a.A.List,{name:"options",children:(e,t)=>{let{add:l,remove:s}=t;return(0,r.jsxs)(r.Fragment,{children:[e.map(((e,t)=>{let{key:l,name:n}=e;return(0,r.jsxs)(I.A,{align:"baseline",children:[(0,r.jsx)(a.A.Item,{name:[n,"text"],rules:[{required:!0,message:"请输入选项内容"},{validator:(e,t)=>{const{options:l=[]}=u.getFieldsValue();let s=0;return l.forEach((e=>{e.text===t&&s++})),1===s?Promise.resolve():Promise.reject(new Error("选项内容重复"))}}],children:(0,r.jsx)(o.A,{placeholder:"请输入文字"})}),t>0&&(0,r.jsx)(N.A,{onClick:()=>s(n)})]},l)})),(0,r.jsx)(a.A.Item,{children:(0,r.jsx)(q.Ay,{type:"link",onClick:()=>l({text:"",value:""}),icon:(0,r.jsx)(Q.A,{}),block:!0,children:"添加选项"})})]})}})}),(0,r.jsx)(a.A.Item,{name:"value",label:"默认选中",children:(0,r.jsx)(x.A,{value:n,options:l.map((e=>{let{text:t,value:l}=e;return{value:l,label:t||""}}))})}),(0,r.jsx)(a.A.Item,{name:"isVertical",valuePropName:"checked",children:(0,r.jsx)(m.A,{children:"竖向排列"})})]})},Component:e=>{const{title:t,options:l=[],value:n,isVertical:i}={...V,...e};return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{children:t}),(0,r.jsx)(y.Ay.Group,{value:n,children:(0,r.jsx)(I.A,{direction:i?"vertical":"horizontal",children:l.map((e=>{const{value:t,text:l}=e;return(0,r.jsx)(y.Ay,{value:t,children:l},t)}))})})]})},StatComponent:e=>{const{stat:t=[]}=e,l=(0,c.useMemo)((()=>{let e=0;return t.forEach((t=>{e+=t.count})),e}),[t]);return(0,r.jsx)("div",{style:{width:"300px",height:"400px"},children:(0,r.jsx)(k.u,{width:"100%",height:"100%",children:(0,r.jsxs)(F.r,{children:[(0,r.jsx)(P.F,{dataKey:"count",data:t,cx:"50%",cy:"50%",outerRadius:50,fill:"#8884d8",label:e=>"".concat(e.name,": ").concat((e.count/l*100).toFixed(2),"%"),children:t.map(((e,t)=>(0,r.jsx)(E.f,{},t)))}),(0,r.jsx)(w.m,{})]})})})},defaultProps:V},S={title:"多选标题",isVertical:!1,list:[{value:"item1",text:"选项1",checked:!1},{value:"item2",text:"选项2",checked:!1},{value:"item3",text:"选项3",checked:!1}]};var z=l(2291),G=l(7734),K=l(2185),M=l(6026),T=l(8643);const B={title:"多选",desc:"问卷描述",type:"QuestionCheckbox",PropComponent:e=>{const{title:t,list:l=[],isVertical:s,onchange:n,disabled:i}=e,[d]=a.A.useForm();return(0,c.useEffect)((()=>{d.setFieldsValue({title:t,list:l,isVertical:s})}),[t,l,s]),(0,r.jsxs)(a.A,{form:d,layout:"vertical",initialValues:{title:t,list:l,isVertical:s},onValuesChange:function(){if(null==n)return;const e=d.getFieldsValue();e.list&&(e.list=e.list.filter((e=>!(null==e.text))));const{list:t=[]}=e;t.forEach((e=>{e.value||(e.value=Math.random().toString(16).slice(-4))})),n(e)},disabled:i,children:[(0,r.jsx)(a.A.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,r.jsx)(o.A,{})}),(0,r.jsx)(a.A.Item,{label:"选项",children:(0,r.jsx)(a.A.List,{name:"list",children:(e,t)=>{let{add:l,remove:s}=t;return(0,r.jsxs)(r.Fragment,{children:[e.map(((e,t)=>{let{key:l,name:n}=e;return(0,r.jsxs)(I.A,{align:"baseline",children:[(0,r.jsx)(a.A.Item,{name:[n,"checked"],valuePropName:"checked",children:(0,r.jsx)(m.A,{})}),(0,r.jsx)(a.A.Item,{name:[n,"text"],rules:[{required:!0,message:"请输入选项内容"},{validator:(e,t)=>{const{list:l=[]}=d.getFieldsValue();let s=0;return l.forEach((e=>{e.text===t&&s++})),1===s?Promise.resolve():Promise.reject(new Error("选项内容重复"))}}],children:(0,r.jsx)(o.A,{placeholder:"请输入文字"})}),t>0&&(0,r.jsx)(N.A,{onClick:()=>s(n)})]},l)})),(0,r.jsx)(a.A.Item,{children:(0,r.jsx)(q.Ay,{type:"link",onClick:()=>l({text:"",value:"",checked:!1}),icon:(0,r.jsx)(Q.A,{}),block:!0,children:"添加选项"})})]})}})}),(0,r.jsx)(a.A.Item,{name:"isVertical",valuePropName:"checked",children:(0,r.jsx)(m.A,{children:"竖向排列"})})]})},Component:e=>{const{title:t,list:l=[],isVertical:n}={...S,...e};return(0,r.jsxs)("div",{children:[(0,r.jsx)(s.A,{children:t}),(0,r.jsx)(I.A,{direction:n?"vertical":"horizontal",children:l.map((e=>{const{value:t,text:l,checked:s}=e;return(0,r.jsx)(m.A,{value:t,checked:s,children:l},t)}))})]})},StatComponent:e=>{const{stat:t=[]}=e;return(0,r.jsx)("div",{style:{width:"300px",height:"400px"},children:(0,r.jsx)(k.u,{width:"100%",height:"100%",children:(0,r.jsxs)(z.E,{width:400,height:300,data:t,margin:{top:5,right:30,left:0,bottom:5},children:[(0,r.jsx)(G.d,{strokeDasharray:"3 3"}),(0,r.jsx)(K.W,{dataKey:"name"}),(0,r.jsx)(M.h,{}),(0,r.jsx)(w.m,{}),(0,r.jsx)(T.y,{dataKey:"count",fill:"#8884d8"})]})})})},defaultProps:S},R=[d,p,v,g,b,L,B],_=[{groupId:"textGroup",groupName:"文本显示",components:[p,v,g]},{groupId:"inputGroup",groupName:"用户输入",components:[d,b]},{groupId:"chooseGroup",groupName:"用户选择",components:[L,B]}];function D(e){return R.find((t=>t.type===e))}},3393:(e,t,l)=>{l.d(t,{l:()=>n});var s=l(3003);function n(){const e=(0,s.d4)((e=>e.components.present)),{componentList:t,selectedId:l,copiedComponent:n}=e,i=t.find((e=>e.fe_id===l));return{componentList:t,selectedId:l,copiedComponent:n,selectedComponent:i}}},8371:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(3003);const n=function(){return(0,s.d4)((e=>e.pageInfo))}},2522:(e,t,l)=>{l.d(t,{C:()=>d});var s=l(5043),n=l(8743),i=l(3216),r=l(6998),a=l(3003),o=l(7679),c=l(1361);function d(){const{id:e=""}=(0,i.g)(),t=(0,a.wA)(),{data:l,loading:d,error:u,run:h}=(0,r.A)((async e=>{if(!e)throw new Error("id is required");const{data:t}=await(0,n.C5)(e);return t}),{manual:!0});return(0,s.useEffect)((()=>{if(!l)return;const{title:e="",desc:s="",js:n="",css:i="",isPublished:r=!1,componentList:a=[]}=l;let d="";a.length>0&&(d=a[0].fe_id),t((0,o.Km)({componentList:a,selectedId:d,copiedComponent:null})),t((0,c.nq)({title:e,isPublished:r,desc:s,js:n,css:i}))}),[l]),(0,s.useEffect)((()=>{h(e)}),[e]),{loading:d,error:u}}}}]);
//# sourceMappingURL=572.ff01bbdd.chunk.js.map