/*! For license information please see 280.df77dbaa.chunk.js.LICENSE.txt */
(self.webpackChunkquestionnaire=self.webpackChunkquestionnaire||[]).push([[280],{5280:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>$e});var r=t(3003),c=t(2522),i=t(9029),s=t(3393),o=t(7679),a=t(1045),l=t(8139),d=t.n(l),u=t(6326),f=t(5529),p=t(1228),h=t(3656);function v(e,n){if(h.A)return e?(0,p.Tn)(e)?e():"current"in e?e.current:e:n}var m=t(5043),x=t(9010),j=t(8022);const y=(A=m.useEffect,function(e,n,t){var r=(0,m.useRef)(!1),c=(0,m.useRef)([]),i=(0,m.useRef)([]),s=(0,m.useRef)();A((function(){var o,a=(Array.isArray(t)?t:[t]).map((function(e){return v(e)}));if(!r.current)return r.current=!0,c.current=a,i.current=n,void(s.current=e());a.length===c.current.length&&(0,j.A)(c.current,a)&&(0,j.A)(i.current,n)||(null===(o=s.current)||void 0===o||o.call(s),c.current=a,i.current=n,s.current=e())})),(0,x.A)((function(){var e;null===(e=s.current)||void 0===e||e.call(s),r.current=!1}))});var A,g=t(6366),w=t.n(g);var k={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:/(mac|iphone|ipod|ipad)/i.test("undefined"!=typeof navigator?null===navigator||void 0===navigator?void 0:navigator.platform:"")?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},b={ctrl:function(e){return e.ctrlKey},shift:function(e){return e.shiftKey},alt:function(e){return e.altKey},meta:function(e){return"keyup"===e.type?k.meta.includes(e.keyCode):e.metaKey}};function C(e){return(0,p.Kg)(e)||(0,p.Et)(e)}function z(e,n,t){var r,c;if(!e.key)return!1;if((0,p.Et)(n))return e.keyCode===n&&n;var i=n.split("."),s=0;try{for(var o=(0,u.Ju)(i),a=o.next();!a.done;a=o.next()){var l=a.value,d=b[l],f=k[l.toLowerCase()];(d&&d(e)||f&&f===e.keyCode)&&s++}}catch(e){r={error:e}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(r)throw r.error}}return t?s===i.length&&function(e){var n=Object.keys(b).reduce((function(n,t){return b[t](e)?n+1:n}),0);return[16,17,18,91,92].includes(e.keyCode)?n:n+1}(e)===i.length&&n:s===i.length&&n}var E=["keydown"];const _=function(e,n,t){var r=t||{},c=r.events,i=void 0===c?E:c,s=r.target,o=r.exactMatch,a=void 0!==o&&o,l=r.useCapture,d=void 0!==l&&l,h=(0,f.A)(n),x=(0,f.A)(e);!function(e,n,t){var r,c,i=(0,m.useRef)(),s=(0,m.useRef)(0);void 0===(r=n)&&(r=[]),void 0===(c=i.current)&&(c=[]),w()(r,c)||(i.current=n,s.current+=1),y(e,[s.current],t)}((function(){var e,n,t,r=v(s,window);if(r){var c=function(e){var n,t=function(e,n){return(0,p.Tn)(e)?e:C(e)?function(t){return z(t,e,n)}:Array.isArray(e)?function(t){return e.find((function(e){return z(t,e,n)}))}:function(){return Boolean(e)}}(x.current,a),r=t(e),c=C(r)?r:e.key;if(r)return null===(n=h.current)||void 0===n?void 0:n.call(h,e,c)};try{for(var o=(0,u.Ju)(i),l=o.next();!l.done;l=o.next()){var f=l.value;null===(t=null==r?void 0:r.addEventListener)||void 0===t||t.call(r,f,c,d)}}catch(n){e={error:n}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return function(){var e,n,t;try{for(var s=(0,u.Ju)(i),o=s.next();!o.done;o=s.next()){var a=o.value;null===(t=null==r?void 0:r.removeEventListener)||void 0===t||t.call(r,a,c,d)}}catch(n){e={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}}}),[i],s)};var L=t(8419);function V(){const e=document.activeElement;return e==document.body||!!e.matches('div[role="button"]')}var H=t(3585),N=t(1648),M=t(579);const I=e=>{const{items:n,children:t,onDragEnd:r}=e,c=(0,H.FR)((0,H.MS)(H.cA,{activationConstraint:{distance:8}}));return(0,M.jsx)(H.Mp,{sensors:c,collisionDetection:H.fp,onDragEnd:function(e){const{active:t,over:c}=e;if(t.id!==(null==c?void 0:c.id)){const e=n.findIndex((e=>e.id===t.id)),i=n.findIndex((e=>e.id===(null==c?void 0:c.id)));r(e,i)}},children:(0,M.jsx)(N.gB,{items:n,strategy:N._G,children:t})})};var S=t(1024);const R=e=>{const{id:n,children:t}=e,{attributes:r,listeners:c,setNodeRef:i,transform:s,transition:o}=(0,N.gl)({id:n}),a={transform:S.Ks.Transform.toString(s),transition:o};return(0,M.jsx)("div",{ref:i,style:a,...r,...c,children:t})};function B(e){const{type:n,props:t}=e,r=(0,a.T3)(n);if(null==r)return null;const{Component:c}=r;return(0,M.jsx)(c,{...t})}const O=e=>{!function(){const e=(0,r.wA)();_(["backspace","delete"],(()=>{V()&&e((0,o.Tg)())})),_(["ctrl.c","meta.c"],(()=>{V()&&e((0,o.Sk)())})),_(["ctrl.v","meta.v"],(()=>{V()&&e((0,o.F7)())})),_(["uparrow"],(()=>{V()&&e((0,o.p5)())})),_(["downarrow"],(()=>{V()&&e((0,o.t$)())})),_(["ctrl.z","meta.z"],(()=>{V()&&e(L.IE.undo())}),{exactMatch:!0}),_(["ctrl.shift.z","meta.shift.z"],(()=>{V()&&e(L.IE.redo())}))}();const{loading:n}=e,{componentList:t,selectedId:c}=(0,s.l)(),a=(0,r.wA)();if(n)return(0,M.jsx)("div",{className:"spinStyle",children:(0,M.jsx)(i.A,{})});const l=t.map((e=>({...e,id:e.fe_id})));return(0,M.jsx)(I,{items:l,onDragEnd:function(e,n){a((0,o.pp)({oldIndex:e,newIndex:n}))},children:(0,M.jsx)("div",{className:"edit_canvas",children:t.filter((e=>!e.isHidden)).map((e=>{const{fe_id:n}=e,t=d()("component_wrapper",{selected:c===n,locked:e.isLocked});return(0,M.jsx)(R,{id:n,children:(0,M.jsx)("div",{className:t,onClick:e=>{return t=n,e.stopPropagation(),void a((0,o.RC)(t));var t},children:(0,M.jsx)("div",{className:"component",children:B(e)})})},n)}))})})};var K=t(8168);const T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};var q=t(2172),P=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:T}))};const F=m.forwardRef(P);var D=t(7644),J=t(8918),$=t(4282);const G=()=>(0,M.jsx)(M.Fragment,{children:a.jJ.map(((e,n)=>{const{groupId:t,groupName:c,components:i}=e;return(0,M.jsxs)("div",{children:[(0,M.jsx)($.A,{level:3,style:{fontSize:"16px",marginTop:n>0?"20px":"0"},children:c}),(0,M.jsx)("div",{className:"libComStyle",children:i.map((e=>function(e){const{title:n,type:t,Component:c,defaultProps:i}=e,s=(0,r.wA)();return(0,M.jsx)("div",{className:"componentLib_wrapper",onClick:function(){s((0,o.X8)({fe_id:Math.random().toString(36).substr(2),type:t,title:n,props:i}))},children:(0,M.jsx)("div",{className:"component",children:(0,M.jsx)(c,{})})},t)}(e)))})]},t)}))});var X=t(6433),Z=t(5679),Q=t(6051),U=t(7021),W=t(2692);const Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var ee=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:Y}))};const ne=m.forwardRef(ee),te=()=>{const{componentList:e,selectedId:n}=(0,s.l)(),[t,c]=(0,m.useState)(""),i=(0,r.wA)();function a(e){const t=e.target.value.trim();t&&n&&i((0,o.oA)({fe_id:n,title:t}))}const l=e.map((e=>({...e,id:e.fe_id})));return(0,M.jsx)(I,{items:l,onDragEnd:function(e,n){i((0,o.pp)({oldIndex:e,newIndex:n}))},children:e.map((r=>{const{fe_id:s,title:l,isHidden:u,isLocked:f}=r,p=d()("component_wrapper title",{selected:n===s});return(0,M.jsx)(R,{id:s,children:(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",border:"1px solid #eee",borderRadius:"5px",padding:"5px",margin:"5px 0"},children:[(0,M.jsxs)("div",{className:p,onClick:()=>function(t){const r=e.find((e=>e.fe_id===t));if(!r||!r.isHidden)return t!==n?(i((0,o.RC)(t)),void c("")):void c(t);X.Ay.info("该组件已隐藏")}(s),children:[s===t&&(0,M.jsx)(Z.A,{value:l,onPressEnter:()=>c(""),onBlur:()=>c(""),onChange:a}),s!==t&&l]},s),(0,M.jsx)("div",{className:"handler",children:(0,M.jsxs)(Q.A,{children:[(0,M.jsx)(U.Ay,{icon:(0,M.jsx)(W.A,{}),size:"small",shape:"circle",type:u?"primary":"text",onClick:()=>function(e,n){i((0,o.CK)({fe_id:e,isHidden:n}))}(s,!u)}),(0,M.jsx)(U.Ay,{icon:(0,M.jsx)(ne,{}),size:"small",shape:"circle",type:f?"primary":"text",onClick:()=>function(e){i((0,o.ON)({fe_id:e}))}(s)})]})})]})},s)}))})},re=()=>{const e=[{key:"componentLib",label:(0,M.jsxs)("span",{children:[(0,M.jsx)(F,{}),"组件库"]}),children:(0,M.jsx)(G,{})},{key:"layers",label:(0,M.jsxs)("span",{children:[(0,M.jsx)(D.A,{}),"图层"]}),children:(0,M.jsx)(te,{})}];return(0,M.jsx)(J.A,{defaultActiveKey:"componentLib",items:e})},ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};var ie=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:ce}))};const se=m.forwardRef(ie),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var ae=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:oe}))};const le=m.forwardRef(ae),de=()=>(0,M.jsx)("div",{style:{textAlign:"center"},children:"未选中组件"}),ue=()=>{const e=(0,r.wA)(),{selectedComponent:n}=(0,s.l)();if(null==n)return(0,M.jsx)(de,{});const{type:t,props:c,isLocked:i}=n,l=(0,a.T3)(t);if(null==l)return(0,M.jsx)(de,{});const{PropComponent:d}=l;return(0,M.jsx)(d,{...c,onchange:function(t){if(null==n)return;const{fe_id:r}=n;e((0,o.Kb)({fe_id:r,newProps:t}))},disabled:i})};var fe=t(4e3),pe=t(8371),he=t(6761),ve=t(798),me=t(1361);const xe=()=>{const e=(0,pe.A)(),[n]=fe.A.useForm(),t=(0,r.wA)();return(0,m.useEffect)((()=>{n.setFieldsValue(e)}),[e]),(0,M.jsxs)(fe.A,{layout:"vertical",initialValues:e,form:n,onValuesChange:function(){t((0,me.nq)(n.getFieldsValue()))},children:[(0,M.jsx)(fe.A.Item,{label:"问卷标题",name:"title",rules:[{required:!0,message:"请输入标题"}],children:(0,M.jsx)(he.A,{placeholder:"请输入标题"})}),(0,M.jsx)(fe.A.Item,{label:"问卷描述",name:"desc",children:(0,M.jsx)(ve.A,{placeholder:"请输入描述"})})]})};var je=function(e){return e.prop="prop",e.setting="setting",e}(je||{});const ye=()=>{const[e,n]=(0,m.useState)(je.prop),{selectedId:t}=(0,s.l)();(0,m.useEffect)((()=>{n(t?je.prop:je.setting)}),[t]);const r=[{key:je.prop,label:(0,M.jsxs)("span",{children:[(0,M.jsx)(se,{}),"属性"]}),children:(0,M.jsx)(ue,{})},{key:je.setting,label:(0,M.jsxs)("span",{children:[(0,M.jsx)(le,{}),"页面设置"]}),children:(0,M.jsx)(xe,{})}];return(0,M.jsx)(J.A,{activeKey:e,items:r})};var Ae=t(7407),ge=t(164),we=t(682),ke=t(3216),be=t(1966),Ce=t(9025);const ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M856 376H648V168c0-8.8-7.2-16-16-16H168c-8.8 0-16 7.2-16 16v464c0 8.8 7.2 16 16 16h208v208c0 8.8 7.2 16 16 16h464c8.8 0 16-7.2 16-16V392c0-8.8-7.2-16-16-16zm-480 16v188H220V220h360v156H392c-8.8 0-16 7.2-16 16zm204 52v136H444V444h136zm224 360H444V648h188c8.8 0 16-7.2 16-16V444h156v360z"}}]},name:"block",theme:"outlined"};var Ee=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:ze}))};const _e=m.forwardRef(Ee),Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};var Ve=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:Le}))};const He=m.forwardRef(Ve);var Ne=t(8369);const Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};var Ie=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:Me}))};const Se=m.forwardRef(Ie),Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};var Be=function(e,n){return m.createElement(q.A,(0,K.A)({},e,{ref:n,icon:Re}))};const Oe=m.forwardRef(Be);var Ke=t(2481);const Te=()=>{const e=(0,r.wA)(),{selectedId:n,componentList:t,selectedComponent:c,copiedComponent:i}=(0,s.l)(),{isLocked:a}=c||{},l=t.length,d=t.findIndex((e=>e.fe_id===n)),u=d<=0,f=d>=l-1;return(0,M.jsxs)(Q.A,{children:[(0,M.jsx)(Ke.A,{title:"删除",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(be.A,{}),onClick:function(){e((0,o.Tg)())}})}),(0,M.jsx)(Ke.A,{title:"隐藏",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(W.A,{}),onClick:function(){e((0,o.CK)({fe_id:n,isHidden:!0}))}})}),(0,M.jsx)(Ke.A,{title:"锁定",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(ne,{}),onClick:function(){e((0,o.ON)({fe_id:n}))},type:a?"primary":"default"})}),(0,M.jsx)(Ke.A,{title:"复制",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(Ce.A,{}),onClick:function(){e((0,o.Sk)())}})}),(0,M.jsx)(Ke.A,{title:"粘贴",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(_e,{}),onClick:function(){e((0,o.F7)())},disabled:null==i})}),(0,M.jsx)(Ke.A,{title:"上移",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(He,{}),onClick:function(){u||e((0,o.pp)({oldIndex:d,newIndex:d-1}))},disabled:u})}),(0,M.jsx)(Ke.A,{title:"下移",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(Ne.A,{}),onClick:function(){f||e((0,o.pp)({oldIndex:d,newIndex:d+1}))},disabled:f})}),(0,M.jsx)(Ke.A,{title:"撤销",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(Se,{}),onClick:function(){e(L.IE.undo())}})}),(0,M.jsx)(Ke.A,{title:"重做",children:(0,M.jsx)(U.Ay,{shape:"circle",icon:(0,M.jsx)(Oe,{}),onClick:function(){e(L.IE.redo())}})})]})};var qe=t(6998),Pe=t(4373),Fe=t(746);var De=t(8743);const Je=()=>{const e=(0,ke.Zp)(),n=()=>{const{title:e}=(0,pe.A)(),[n,t]=(0,m.useState)(!1),c=(0,r.wA)();return n?(0,M.jsx)(he.A,{value:e,onChange:function(e){const n=e.target.value.trim();n&&c((0,me.I5)(n))},onPressEnter:()=>t(!1),onBlur:()=>t(!1)}):(0,M.jsxs)(Q.A,{children:[(0,M.jsx)($.A,{children:e}),(0,M.jsx)(U.Ay,{type:"text",icon:(0,M.jsx)(Ae.A,{}),onClick:()=>t(!0)})]})};return(0,M.jsx)("div",{className:"Edit_header_wrapper",children:(0,M.jsxs)("div",{className:"header",children:[(0,M.jsx)("div",{className:"left",children:(0,M.jsxs)(Q.A,{children:[(0,M.jsx)(U.Ay,{type:"link",icon:(0,M.jsx)(we.A,{}),onClick:()=>e(-1),children:"返回"}),(0,M.jsx)(n,{})]})}),(0,M.jsx)("div",{className:"main",children:(0,M.jsx)(Te,{})}),(0,M.jsx)("div",{className:"right",children:(0,M.jsxs)(Q.A,{children:[(()=>{const{id:e}=(0,ke.g)(),{componentList:n=[]}=(0,s.l)(),t=(0,pe.A)(),{loading:r,run:c}=(0,qe.A)((async()=>{e&&await(0,De.Tg)(e,{...t,componentList:[...n]})}),{manual:!0,onSuccess(){X.Ay.success("保存成功")}});return _(["ctrl.s","meta.s"],(e=>{e.preventDefault(),r||c()})),i=()=>{c()},o=[n,t],a={wait:2e3},l=(0,u.zs)((0,m.useState)({}),2),d=l[0],f=l[1],p=(0,Pe.A)((function(){f({})}),a).run,(0,m.useEffect)((function(){return p()}),o),(0,Fe.A)(i,[d]),(0,M.jsx)(U.Ay,{onClick:c,disabled:r,icon:r&&(0,M.jsx)(ge.A,{}),children:"保存"});var i,o,a,l,d,f,p})(),(()=>{const{id:n}=(0,ke.g)(),{componentList:t=[]}=(0,s.l)(),r=(0,pe.A)(),{loading:c,run:i}=(0,qe.A)((async()=>{n&&await(0,De.Tg)(n,{...r,componentList:[...t],isPublish:!0})}),{manual:!0,onSuccess(){X.Ay.success("发布成功"),e("/question/stat/".concat(n))}});return(0,M.jsx)(U.Ay,{type:"primary",onClick:i,disabled:c,icon:c&&(0,M.jsx)(ge.A,{}),children:"发布"})})()]})})]})})},$e=()=>{const{loading:e}=(0,c.C)(),n=(0,r.wA)();return(0,M.jsxs)("div",{className:"edit_container",children:[(0,M.jsx)("div",{className:"header",children:(0,M.jsx)(Je,{})}),(0,M.jsx)("div",{className:"content_wrapper",children:(0,M.jsxs)("div",{className:"content",children:[(0,M.jsx)("div",{className:"left",children:(0,M.jsx)(re,{})}),(0,M.jsx)("div",{className:"main",onClick:function(){n((0,o.RC)(""))},children:(0,M.jsx)("div",{className:"canvas_wrapper",children:(0,M.jsx)(O,{loading:e})})}),(0,M.jsx)("div",{className:"right",children:(0,M.jsx)(ye,{})})]})})]})}},6366:e=>{var n="undefined"!=typeof Element,t="function"==typeof Map,r="function"==typeof Set,c="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var o,a,l,d;if(Array.isArray(e)){if((o=e.length)!=s.length)return!1;for(a=o;0!=a--;)if(!i(e[a],s[a]))return!1;return!0}if(t&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(d=e.entries();!(a=d.next()).done;)if(!s.has(a.value[0]))return!1;for(d=e.entries();!(a=d.next()).done;)if(!i(a.value[1],s.get(a.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(d=e.entries();!(a=d.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(c&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((o=e.length)!=s.length)return!1;for(a=o;0!=a--;)if(e[a]!==s[a])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof s.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof s.toString)return e.toString()===s.toString();if((o=(l=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(a=o;0!=a--;)if(!Object.prototype.hasOwnProperty.call(s,l[a]))return!1;if(n&&e instanceof Element)return!1;for(a=o;0!=a--;)if(("_owner"!==l[a]&&"__v"!==l[a]&&"__o"!==l[a]||!e.$$typeof)&&!i(e[l[a]],s[l[a]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,n){try{return i(e,n)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}}}]);
//# sourceMappingURL=280.df77dbaa.chunk.js.map